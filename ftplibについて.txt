ftp.nlistとftp.retrlinesは以下の違いがある。
    if filename in ftp.nlst(): という行は、ftp.nlst() メソッドが返すリストに、変数 filename が含まれているかどうかを判定しています。
    ftp.nlst() メソッドは、FTPサーバー上の現在のディレクトリのファイルの一覧を取得するために使用されます。
    このメソッドは、ファイル名のリストを返すため、 in 演算子によってファイルが存在するかどうかを判定できます。
    一方、ftp.retrlines() メソッドは、FTPサーバー上のファイルやディレクトリの詳細情報を取得するために使用されます。
    このメソッドは、LISTコマンドを送信して、ファイルやディレクトリの詳細情報を取得し、それを行単位で解析してコールバック関数に渡します。
    このメソッドは、ファイル名のリストを返さないため、in演算子によるファイルの存在判定には使用できません。
    したがって、ftp.retrlines() メソッドを使ってファイルが存在するかどうかを判定するには、ファイル名の一覧を取得する別の方法を使用する必要があります。例えば、ftp.nlst() メソッドを使用するか、ftp.dir() メソッドを使用して retrlines() メソッドで解析される詳細情報を取得し、その中からファイル名を抽出することができます。

